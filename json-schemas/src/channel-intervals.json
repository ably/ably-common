{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "type": "object",
  "properties": {
    "eventId": {
      "type": "string",
      "description": "Unique identifier for this event. Autogenerated by the system."
    },
    "intervalId": {
      "type": "string",
      "description": "The interval in unix milliseconds."
    },
    "interval": {
      "type": "number",
      "description": "The interval in unix milliseconds."
    },
    "intervalStartTime": {
      "type": "number",
      "description": "Start time of the interval in unix milliseconds."
    },
    "intervalEndTime": {
      "type": "number",
      "description": "End time of the interval in unix milliseconds."
    },
    "accountId": {
      "type": "string"
    },
    "appId": {
      "type": "string"
    },
    "channelId": {
      "type": "string"
    },
    "schema": {
      "type": "string",
      "description": "URI to this schema."
    },
    "site": {
      "type": "string"
    },
    "realtimeInstanceId": {
      "type": "string"
    },
    "cluster": {
      "type": "string"
    },
    "ec2InstanceId": {
      "type": "string"
    },
    "containerName": {
      "type": "string"
    },
    "role": {
      "type": "string"
    },
    "stats": {
      "type": "object",
      "properties": {
        "direction":{
          "type": "string",
          "enum": ["inbound", "outbound"],
          "description": "Describes the direction of the analytics data."
        },
        "messages": {
          "type": "object",
          "properties": {
            "all": {
              "type": "object",
              "properties": {
                "succeeded": {
                  "type": "object",
                  "properties": {
                    "count": {
                      "type": "object",
                      "properties": {
                          "value": {"type": "integer"}
                      }
                    },
                    "billableCount": {
                      "type": "object",
                      "properties": {
                          "value": {"type": "integer"}
                      }
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                          "value": {"type": "integer"}
                      }
                    }
                  }
                },
                "failed": {
                  "type": "object",
                  "patternProperties": {
                    "^[0-9]+$": {
                      "type": "object",
                      "properties": {
                        "count": {
                          "type": "object",
                          "properties": {
                              "value": {"type": "integer"}
                          }
                        },
                        "billableCount": {
                          "type": "object",
                          "properties": {
                              "value": {"type": "integer"}
                          }
                        },
                        "data": {
                          "type": "object",
                          "properties": {
                              "value": {"type": "integer"}
                          }
                        }
                      }
                    }
                  },
                  "additionalProperties": false
                }
              },
              "required": ["succeeded", "failed"]
            }
          },
          "required": ["all"]
        }
      },
      "required": ["messages", "direction"]
    }
  },
  "required": [
    "eventId",
    "intervalId",
    "interval",
    "accountId",
    "appId",
    "channelId",
    "site",
    "realtimeInstanceId",
    "cluster",
    "ec2InstanceId",
    "containerName",
    "role",
    "stats"
  ]
}
